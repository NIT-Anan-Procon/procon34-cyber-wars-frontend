import { CHOICES_KEY, VULNERABILITIES_KEY, useFetchChallengeQuery } from "@/features/challenge";

export const useCreateVulnerabilityValues= () => {
  const { data: choices, isSuccess }= useFetchChallengeQuery({
    config: {
      select: ( data ) => {
        return data?.[ VULNERABILITIES_KEY ].flatMap(
          (item: { choices: string[]; hint: string; hintScore: number; }) => 
          item[ CHOICES_KEY ]
        );
      }
    }
  });


    const vulnerabilityCheckItems= choices?.map(
      ( value: string, index: number ) => {
        return {
          id: index,
          value: value,
          selected: false
        }
      }
    );
    

    return vulnerabilityCheckItems;    
};